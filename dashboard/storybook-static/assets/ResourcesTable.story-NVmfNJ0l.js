import{j as r,r as t,B as V}from"./iframe-ByZyHG7Z.js";import{R as j}from"./ResourcesTable.component-DCuimg2z.js";import{R as A}from"./ResourcesTree.component-Y1gdellh.js";import{S as D}from"./Stack-BYgy4ZNY.js";import{T as F}from"./Title-Czq4HMLJ.js";import{T as K}from"./TextInput-Ba5dtmf_.js";import{I as N}from"./IconSearch-Dks1vVM2.js";import"./preload-helper-PPVm8Dsz.js";import"./table-BuDuxKCV.js";import"./createReactComponent-Cbgg6bZD.js";import"./find-element-ancestor-Cv-4bSct.js";import"./error-eSvF7V3U.js";import"./format-BWW3-KEh.js";import"./IconAlertCircle-BKZdSC5f.js";const se={title:"Components/ResourcesTable",component:j,parameters:{layout:"fullscreen"}},B=[{resourcesId:"rs-story-001",version:1,createTime:1710806400,updateTime:1713412800,resources:{model:{name:"gpt-4",version:"2024-01-01",temperature:.7,maxTokens:2048,topP:.9},database:{host:"db.example.com",port:5432,name:"production",pool:{min:2,max:10,idle:3e4}},cache:{type:"redis",host:"cache.example.com",port:6379,ttl:3600}}},{resourcesId:"rs-story-002",version:2,createTime:1712217600,updateTime:1714823200,resources:{model:{name:"claude-3-opus",version:"2024-02-01",temperature:.5,maxTokens:4096},storage:{type:"s3",bucket:"training-data",region:"us-east-1",credentials:{accessKeyId:"AKIA***",encrypted:!0}},compute:{instances:[{id:"i-001",type:"t3.large",zone:"us-east-1a"},{id:"i-002",type:"t3.large",zone:"us-east-1b"}],autoScaling:{min:2,max:10,targetCpu:70}}}},{resourcesId:"rs-story-003",version:3,createTime:1709251200,updateTime:1711856800,resources:{model:{name:"gpt-3.5-turbo",version:"2023-12-01",temperature:.8,maxTokens:1024},monitoring:{enabled:!0,interval:60,metrics:["cpu","memory","disk","network"],alerts:{email:"ops@example.com",slack:"#alerts",pagerduty:!0}}}},{resourcesId:"rs-story-004",version:1,createTime:1706745600,updateTime:1709347200,resources:{apiKeys:{openai:"sk-***",anthropic:"sk-ant-***",replicate:"r8-***"},rateLimits:{requestsPerMinute:100,tokensPerDay:1e6,concurrent:5}}},{resourcesId:"rs-story-005",version:1,createTime:1704067200,updateTime:1706668800,resources:{}}];function o({maxWidth:k,resourcesList:w=B,isFetching:C=!1,isError:P=!1,error:L=null}){const[c,f]=t.useState(""),[y,n]=t.useState(1),[i,E]=t.useState(5),[a,I]=t.useState({column:"resourcesId",direction:"asc"}),R=w??[],v=t.useMemo(()=>{const e=c.trim().toLowerCase();return e.length===0?R:R.filter(u=>u.resourcesId.toLowerCase().includes(e))},[R,c]),W=t.useMemo(()=>{const e=v.slice(),u=(s,b)=>{switch(b){case"version":return s.version;case"createTime":return s.createTime;case"updateTime":return s.updateTime;case"resourceCount":return Object.keys(s.resources??{}).length;case"resourcesId":default:return s.resourcesId}};return e.sort((s,b)=>{const m=u(s,a.column),d=u(b,a.column);return m===d?0:typeof m=="number"&&typeof d=="number"?m-d:String(m).localeCompare(String(d))}),a.direction==="desc"&&e.reverse(),e},[v,a]),M=W.length,z=t.useMemo(()=>{const e=(y-1)*i;return W.slice(e,e+i)},[y,i,W]);return r.jsx(V,{mx:"auto",style:{maxWidth:k,width:"100%",padding:16},children:r.jsxs(D,{gap:"md",children:[r.jsx(F,{order:2,children:"Resources"}),r.jsx(K,{placeholder:"Search by Resources ID",value:c,onChange:e=>{f(e.currentTarget.value),n(1)},leftSection:r.jsx(N,{size:16}),"data-testid":"resources-search-input",w:"100%",style:{maxWidth:360}}),r.jsx(j,{resourcesList:z,totalRecords:M,isFetching:C,isError:P,error:L,searchTerm:c,sort:a,page:y,recordsPerPage:i,onSortStatusChange:e=>{I({column:e.columnAccessor,direction:e.direction})},onPageChange:n,onRecordsPerPageChange:e=>{E(e),n(1)},onResetFilters:()=>{f(""),I({column:"resourcesId",direction:"asc"}),n(1)},onRefetch:()=>{},recordsPerPageOptions:[5,10,20],renderRowExpansion:({resources:e})=>r.jsx(A,{resources:e})})]})})}const p={render:()=>r.jsx(o,{maxWidth:1280})},l={render:()=>r.jsx(o,{maxWidth:960})},x={render:()=>r.jsx(o,{maxWidth:720})},h={render:()=>r.jsx(o,{maxWidth:520})},g={render:()=>r.jsx(o,{maxWidth:600,resourcesList:[],isError:!0,error:new Error("Network unreachable")})},T={render:()=>r.jsx(o,{maxWidth:960,resourcesList:[{resourcesId:"rs-empty-001",version:1,createTime:1702e6,updateTime:17046e5,resources:{}}]})},S={render:()=>r.jsx(o,{maxWidth:960,resourcesList:[],isFetching:!0})};p.parameters={...p.parameters,docs:{...p.parameters?.docs,source:{originalSource:`{
  render: () => <ResourcesTableStoryWrapper maxWidth={1280} />
}`,...p.parameters?.docs?.source}}};l.parameters={...l.parameters,docs:{...l.parameters?.docs,source:{originalSource:`{
  render: () => <ResourcesTableStoryWrapper maxWidth={960} />
}`,...l.parameters?.docs?.source}}};x.parameters={...x.parameters,docs:{...x.parameters?.docs,source:{originalSource:`{
  render: () => <ResourcesTableStoryWrapper maxWidth={720} />
}`,...x.parameters?.docs?.source}}};h.parameters={...h.parameters,docs:{...h.parameters?.docs,source:{originalSource:`{
  render: () => <ResourcesTableStoryWrapper maxWidth={520} />
}`,...h.parameters?.docs?.source}}};g.parameters={...g.parameters,docs:{...g.parameters?.docs,source:{originalSource:`{
  render: () => <ResourcesTableStoryWrapper maxWidth={600} resourcesList={[]} isError error={new Error('Network unreachable')} />
}`,...g.parameters?.docs?.source}}};T.parameters={...T.parameters,docs:{...T.parameters?.docs,source:{originalSource:`{
  render: () => <ResourcesTableStoryWrapper maxWidth={960} resourcesList={[{
    resourcesId: 'rs-empty-001',
    version: 1,
    createTime: 1702000000,
    updateTime: 1704600000,
    resources: {}
  }]} />
}`,...T.parameters?.docs?.source}}};S.parameters={...S.parameters,docs:{...S.parameters?.docs,source:{originalSource:`{
  render: () => <ResourcesTableStoryWrapper maxWidth={960} resourcesList={[]} isFetching />
}`,...S.parameters?.docs?.source}}};export{h as DrawerWidth,T as EmptyResources,g as ErrorState,S as LoadingState,l as MediumContainer,x as NarrowContainer,p as WideContainer,se as default};
