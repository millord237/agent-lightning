import{j as r,r as o,B as b}from"./iframe-ByZyHG7Z.js";import{W as h}from"./WorkersTable.component-D7qGphi2.js";import{S as y}from"./Stack-BYgy4ZNY.js";import{T as g}from"./Title-Czq4HMLJ.js";import{T as f}from"./TextInput-Ba5dtmf_.js";import{I as R}from"./IconSearch-Dks1vVM2.js";import"./preload-helper-PPVm8Dsz.js";import"./table-BuDuxKCV.js";import"./createReactComponent-Cbgg6bZD.js";import"./find-element-ancestor-Cv-4bSct.js";import"./error-eSvF7V3U.js";import"./format-BWW3-KEh.js";import"./IconInfoCircle-B0aEKl0P.js";const M={title:"Components/WorkersTable",component:h,parameters:{layout:"fullscreen"}},e=Math.floor(Date.now()/1e3),p=[{workerId:"worker-east",status:"busy",heartbeatStats:{queueDepth:2,gpuUtilization:.82},lastHeartbeatTime:e-20,lastDequeueTime:e-60,lastBusyTime:e-120,lastIdleTime:e-600,currentRolloutId:"ro-story-001",currentAttemptId:"at-story-010"},{workerId:"worker-west",status:"busy",heartbeatStats:{queueDepth:1},lastHeartbeatTime:e-45,lastDequeueTime:e-300,lastBusyTime:e-200,lastIdleTime:e-4800,currentRolloutId:"ro-story-003",currentAttemptId:"at-story-033"},{workerId:"worker-north",status:"idle",heartbeatStats:{queueDepth:0},lastHeartbeatTime:e-90,lastDequeueTime:e-3600,lastBusyTime:e-5400,lastIdleTime:e-5400,currentRolloutId:null,currentAttemptId:null},{workerId:"worker-south",status:"idle",heartbeatStats:null,lastHeartbeatTime:e-900,lastDequeueTime:e-7200,lastBusyTime:e-8600,lastIdleTime:e-8600,currentRolloutId:null,currentAttemptId:null},{workerId:"worker-standby",status:"unknown",heartbeatStats:{queueDepth:0},lastHeartbeatTime:e-15,lastDequeueTime:e-4e3,lastBusyTime:null,lastIdleTime:null,currentRolloutId:null,currentAttemptId:null}];function u({maxWidth:i,initialSort:T}){const[s,m]=o.useState(""),[S,c]=o.useState(1),[I,k]=o.useState(5),[x,w]=o.useState(()=>T??{column:"lastHeartbeatTime",direction:"desc"}),d=o.useMemo(()=>{const t=s.trim().toLowerCase();return t?p.filter(W=>W.workerId.toLowerCase().includes(t)):p},[s]);return r.jsxs(y,{gap:"md",p:"lg",children:[r.jsxs(g,{order:2,children:["Workers (",i,"px max width)"]}),r.jsx(f,{placeholder:"Search",leftSection:r.jsx(R,{size:16}),value:s,onChange:t=>m(t.currentTarget.value),w:"100%",style:{maxWidth:360}}),r.jsx(b,{style:{maxWidth:i},children:r.jsx(h,{workers:d,totalRecords:d.length,isFetching:!1,isError:!1,error:null,searchTerm:s,sort:x,page:S,recordsPerPage:I,onSortStatusChange:t=>w({column:t.columnAccessor,direction:t.direction}),onPageChange:c,onRecordsPerPageChange:k,onResetFilters:()=>{m(""),c(1)},onRefetch:()=>{},onShowDetails:()=>{}})})]})}const a={render:()=>r.jsx(u,{maxWidth:1600})},l={render:()=>r.jsx(u,{maxWidth:780})},n={render:()=>r.jsx(u,{maxWidth:1200,initialSort:{column:"currentRolloutId",direction:"asc"}})};a.parameters={...a.parameters,docs:{...a.parameters?.docs,source:{originalSource:`{
  render: () => <WorkersTableStoryWrapper maxWidth={1600} />
}`,...a.parameters?.docs?.source}}};l.parameters={...l.parameters,docs:{...l.parameters?.docs,source:{originalSource:`{
  render: () => <WorkersTableStoryWrapper maxWidth={780} />
}`,...l.parameters?.docs?.source}}};n.parameters={...n.parameters,docs:{...n.parameters?.docs,source:{originalSource:`{
  render: () => <WorkersTableStoryWrapper maxWidth={1200} initialSort={{
    column: 'currentRolloutId',
    direction: 'asc'
  }} />
}`,...n.parameters?.docs?.source}}};export{l as Narrow,n as SortedByCurrentRollout,a as Wide,M as default};
